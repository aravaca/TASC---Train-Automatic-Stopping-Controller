
# Advanced TASC-Based Stop Training Simulator for JR East E233 Series - JR East E233 시리즈의 TASC 기반 정차 훈련 시뮬레이터

이 **풀스택 프로젝트**는 JR East E233 시리즈를 기반으로 한 열차 정차 훈련 시뮬레이터로,
프론트엔드(HTML/CSS/JavaScript)와 백엔드(FastAPI WebSocket 서버)를 통합하여 개발되었습니다.
사용자는 각 회사 운전국의 다양한 기본 제동 정차 패턴을 체계적으로 익힐 수 있으며,
**TASC 기반 정차 보조 시스템**을 활용한 **실시간 제동 연습**과 점수 평가를 통해 운전 역량을 **효과적으로 향상**시킬 수 있습니다.

## 📂 파일 구조

```

.
├── **pycache**
│   └── server.cpython-312.pyc
├── scenario.json          # 시나리오 설정 (거리, 초기 속도, 선형 경사 등)
├── server.py              # FastAPI WebSocket 백엔드
├── static
│   ├── carName.json       # 차량 이름 데이터
│   └── index.html         # 프론트엔드 UI
└── vehicle.json           # 차량 제원 (질량, 감속도, 저항계수 등)

```

---

## ⚙️ 주요 기술 스택
- **백엔드**: Python 3.12, FastAPI, WebSocket
- **프론트엔드**: HTML, CSS, JavaScript
- **배포 환경**: AWS EC2 (Ubuntu), Nginx, Route53

---

## 👨‍💻 프론트엔드 UI 설명
- **게임 상태 표시**: 현재 속도, 남은 거리, 경과 시간, 경사도 등의 정보가 실시간으로 업데이트됩니다.
- **브레이크 제어**: 제동 레버의 위치를 변화시키면 그에 따라 차량의 감속도가 바뀌고, 이 정보는 실시간으로 HUD에 반영됩니다.
- **피드백**: 정차 시 문제점과 점수(0~500점) 피드백을 받을 수 있으며, 이를 바탕으로 운전 훈련을 개선할 수 있습니다.
- **날씨 애니메이션**: 눈과 비 애니메이션을 선택하여 시뮬레이터 환경을 변경할 수 있습니다.
- **미세 정차 조정**: 그래프 우측 세로 막대 중앙에 다이아몬드 표시를 배치하여, 정밀한 감속 제어를 보다 직관적이고 용이하게 구현하였습니다.

---
## 🌐 배포 환경


1. **프론트엔드**: `static/index.html` 파일을 웹 브라우저에서 실행하여 사용자 인터페이스를 제공.
    - **UI**: 차량 정보, 현재 속도, 남은 거리, 경과 시간 등을 실시간으로 표시합니다.
    - **애니메이션**: 눈과 비 날씨 효과에 따른 배경 변화를 동적으로 처리합니다.
    - **키보드 입력**: `Space`, `W`, `S`, `N` 키를 이용해 정차 훈련을 제어할 수 있습니다.

2. **백엔드**: FastAPI 서버가 WebSocket을 통해 **실시간 데이터 통신**을 처리합니다.
    - `wss://` 혹은 `ws://` 프로토콜을 사용하여 클라이언트와 연결합니다.
    - 차량 제원, 경사도, 속도 및 제동 관련 정보를 실시간으로 처리하고 클라이언트에 전달합니다.

---

## 🚀 로컬 실행 방법

**배포된 웹에 이미 연결되어 있으므로** 별도의 서버 실행은 필요 없습니다. 웹 애플리케이션이 이미 배포되어 [**여기서 바로 실행**](http://your-deployed-url.com)할 수 있습니다.

### 1. 초기 설정
초기 값(속도, 거리, 경사도, 날씨 등)을 설정한 후 **Space** 키를 눌러 훈련을 시작합니다.  
- `W` / `S` 키를 사용하여 제동을 강화하거나 완화할 수 있습니다.
- `N` 키는 제동을 해제하고, `Space`는 훈련을 다시 시작합니다.

### 2. 날씨 및 기타 설정
- 날씨를 **비옴** 또는 **눈옴**으로 변경할 수 있으며, 이 변경은 배경 색상 및 애니메이션에 실시간 영향을 미칩니다.
- `편성`은 선택한 차량의 길이에 따라 달라지며, 이에 따라 **차량 질량**이 업데이트됩니다.

---

## 🛠 시뮬레이터 기능
- **실시간 거리/속도 표시**
- **초제동 여부 감지**
- **계단 제동 패턴 감지**
- **EB(긴급제동) 사용 여부 감지**
- **저크(Jerk) 분석 후 승차감 점수 반영**
- **정차 오차 계산 및 감점/가점 적용**
- **점수 및 문제점 피드백 표시**

---

## 📄 라이선스
- 본 프로젝트는 개인 학습 및 시뮬레이션 목적으로 제작되었습니다.
MIT License - 2025 Hyungsuk Choi, University of Maryland
---
